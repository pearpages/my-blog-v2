(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{153:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return i}));var a=n(3),o=n(7),r=(n(0),n(229)),c={slug:"js-objects",title:"Javascript Objects",author:"pere pages",author_image_url:"https://avatars2.githubusercontent.com/u/3802915?s=400&v=4",tags:["js","objects"]},s={permalink:"/js-objects",editUrl:"https://github.com/pearpages/my-blog/edit/master/blog/2021-01-16-js-objects.md",source:"@site/blog/2021-01-16-js-objects.md",description:"Objects in Javascript are mutable keyed collections.",date:"2021-01-16T00:00:00.000Z",tags:[{label:"js",permalink:"/tags/js"},{label:"objects",permalink:"/tags/objects"}],title:"Javascript Objects",readingTime:4.77,truncated:!1,prevItem:{title:"Javascript Functions",permalink:"/js-functions"},nextItem:{title:"Async functions and useEffect",permalink:"/async-functions-with-use-effect"}},l=[{value:"Object literals",id:"object-literals",children:[]},{value:"Retrieval",id:"retrieval",children:[]},{value:"Update",id:"update",children:[]},{value:"Reference",id:"reference",children:[]},{value:"Prototype",id:"prototype",children:[]},{value:"Reflection",id:"reflection",children:[]},{value:"Enumeration: <code>for in</code>, <code>Object.keys</code> and <code>Object.values</code>",id:"enumeration-for-in-objectkeys-and-objectvalues",children:[{value:"Keys",id:"keys",children:[]}]},{value:"Delete",id:"delete",children:[]},{value:"Inheritance",id:"inheritance",children:[]},{value:"toString",id:"tostring",children:[]},{value:"Copy",id:"copy",children:[]},{value:"Freeze",id:"freeze",children:[]},{value:"WeakMap",id:"weakmap",children:[]},{value:"this",id:"this",children:[{value:"Example with methods",id:"example-with-methods",children:[]},{value:"Trying to access this before execution time",id:"trying-to-access-this-before-execution-time",children:[]}]},{value:"Resources",id:"resources",children:[]}],b={toc:l};function i(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Objects in Javascript are ",Object(r.b)("strong",{parentName:"p"},"mutable keyed collections"),"."),Object(r.b)("p",null,"An object is a container of properties, where a property has a name and a value. Objects can contain other objects, so they can easily represent tree or graph structures."),Object(r.b)("p",null,"Javascript includes a ",Object(r.b)("strong",{parentName:"p"},"prototype")," linkage feature that allows one object to inherit the properties of another."),Object(r.b)("h2",{id:"object-literals"},"Object literals"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const empty_object = {}\n")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const aPerson = {\n  firstName: 'Pere',\n  lastName: 'Pages'\n}\n")),Object(r.b)("h2",{id:"retrieval"},"Retrieval"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const aPerson = {\n  firstName: 'Pere',\n  lastName: 'Pages'\n}\n\nconsole.log(aPerson.firstName) // 'Pere'\nconsole.log(aPerson.lastName) // 'Pages'\nconsole.log(aPerson.whatever) // undefined\nconsole.log(aPerson.nickname || 'pearpages') // pearpages\n")),Object(r.b)("h2",{id:"update"},"Update"),Object(r.b)("p",null,"If the property name already exists in the object, the property is replaced. If the object does not already have that property name, the object is augmented."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const aPerson = {\n  firstName: 'Pere',\n  lastName: 'Pages'\n}\n\naPerson.fistName = 'Pear' // from 'Pere' to 'Pear'\naPerson.middleName = 'Joan' // from 'undefined' to 'Joan'\n")),Object(r.b)("h2",{id:"reference"},"Reference"),Object(r.b)("p",null,"Objects are passed around by reference. They are never copied."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const bar = {\n  a: 1,\n  b: 2\n}\n\nconst foo = {\n  ref: bar\n}\n\nfoo.ref.a = 3\n\nconsole.log(bar.a) // 3\n")),Object(r.b)("h2",{id:"prototype"},"Prototype"),Object(r.b)("p",null,"Every object is linked to a ",Object(r.b)("em",{parentName:"p"},"prototype")," object from which it can inherit properties (",Object(r.b)("strong",{parentName:"p"},"a"),"). All objects create from object literals are linked to ",Object(r.b)("inlineCode",{parentName:"p"},"Object.prototype"),", an object that comes standard with Javascript."),Object(r.b)("p",null,"The prototype link has no effect on updating. When we make changes to an object, the object's prototype is not touched (",Object(r.b)("strong",{parentName:"p"},"b"),")."),Object(r.b)("p",null,"The prototype link is used only in retrieval. If we try to retrieve a property value from an object, and if the object lacks the property name, then Javascript attempts to retrieve the property value from the prototype object. This is called ",Object(r.b)("strong",{parentName:"p"},"delegation")," (",Object(r.b)("strong",{parentName:"p"},"c"),")."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const bar = {\n  a: 1,\n  b: 2\n}\n\nconst foo = Object.create(bar) // example of (a)\n\nconsole.log(foo) // {}\nconsole.log(foo.a) // 1; example of (c)\nconsole.log(foo.__proto__.a) // 1\n\nbar.a = 3\n\nconsole.log(foo.a) // 3\n\nfoo.a = 5 // example of (b)\n\nconsole.log(foo.a) // 5\nconsole.log(bar.a) // 3\n\ndelete foo.a // true; no longer foo has -a- as an -ownProperty-\nconsole.log(foo.a) // 3; example of (c)\n")),Object(r.b)("h2",{id:"reflection"},"Reflection"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const bar = {\n  a: 1,\n  b: 2\n}\n\nconst aPerson = {\n  firstName: 'Pere',\n  lastName: 'Pages'\n}\n\ntypeof bar.a // 'number'\ntypeof bar.b // 'number'\ntypeof aPerson.firstName // 'string'\n")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const bar = {\n  a: 1,\n  b: 2\n}\n\nconst foo = Object.create(bar)\n\nbar.hasOwnProperty('a') // true\nfoo.hasOwnProperty('a') // false\n\nconsole.log(foo.a) // 1\n")),Object(r.b)("h2",{id:"enumeration-for-in-objectkeys-and-objectvalues"},"Enumeration: ",Object(r.b)("inlineCode",{parentName:"h2"},"for in"),", ",Object(r.b)("inlineCode",{parentName:"h2"},"Object.keys")," and ",Object(r.b)("inlineCode",{parentName:"h2"},"Object.values")),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"for in")," statement can loop over all the property names in an object."),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"Object.keys")," only will get the ",Object(r.b)("inlineCode",{parentName:"p"},"hasOwnProperty(key) === true"),"."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const bar = {\n  a: 1,\n  b: 2,\n  m1: () => 'hello'\n}\n\nconst foo = Object.create(bar)\nfoo.c = 3\nfoo.d = 4\n\nconst geez = Object.create(foo)\n\nfor (let name in foo) {\n  console.log(name)\n} // c, d, a, b, m1\n\nfor (let name in foo) {\n  console.log(foo.hasOwnProperty(name))\n} // true, true, false, false, false\n\nfor (let name in geez) {\n  console.log(geez.hasOwnProperty(name))\n} // false, false, false, false, false\n\nconsole.log(Object.keys(bar)) // ['a', 'b', 'm1']\nconsole.log(Object.keys(foo)) // ['c', 'd']\nconsole.log(Object.keys(geez)) // []\n\nconsole.log(Object.values(bar)) // ['a', 'b', function]\n")),Object(r.b)("h3",{id:"keys"},"Keys"),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"Object.keys(object)"),"function can take all of the names of the own (but not inherited) properties in an ",Object(r.b)("em",{parentName:"p"},"object")," and return them as an array of strings."),Object(r.b)("p",null,"The strings in the array will be in the order in which they were inserted."),Object(r.b)("h2",{id:"delete"},"Delete"),Object(r.b)("p",null,"The ",Object(r.b)("em",{parentName:"p"},"delete")," operator can be used to remove a property from an object. It will remove a property from the object if it has one. It will not touch any of the objects in the prototype linkage."),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"see ",Object(r.b)("em",{parentName:"p"},"delete")," example in the ",Object(r.b)("strong",{parentName:"p"},"prototype")," section.")),Object(r.b)("h2",{id:"inheritance"},"Inheritance"),Object(r.b)("p",null,"In Javascript, an object can be made that inherits from another object ",Object(r.b)("inlineCode",{parentName:"p"},"Object.create(prototype)"),"."),Object(r.b)("p",null,"When assigning to an object, only the top-most object is changed. No changes are made to objects on the prototype chain."),Object(r.b)("p",null,"The most popular use of prototypes is as a place to store functions."),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"Object.create(prototype)")," inherits from the ",Object(r.b)("em",{parentName:"p"},"prototype")," parameter object and the ",Object(r.b)("inlineCode",{parentName:"p"},"Object.prototype"),". But ",Object(r.b)("inlineCode",{parentName:"p"},"Object.create(null)")," does not inherit any thing. "),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"Object.assign(Object.create({}), prototype)")," is preferable to ",Object(r.b)("inlineCode",{parentName:"p"},"Object.create(prototype)"),". It is all about how much you want to 'inherit'. ",Object(r.b)("inlineCode",{parentName:"p"},"Object.create({})")," does not inherit from ",Object(r.b)("inlineCode",{parentName:"p"},"Object.prototype")," but ",Object(r.b)("inlineCode",{parentName:"p"},"{}")," the Object literal does (check to ",Object(r.b)("strong",{parentName:"p"},"proto")," property)."),Object(r.b)("h2",{id:"tostring"},"toString"),Object(r.b)("p",null,"If you want to convert an object into a string ",Object(r.b)("inlineCode",{parentName:"p"},"JSON.stringify")," does a much better job."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"JSON.stringify(myObj, null, 2)\n")),Object(r.b)("h2",{id:"copy"},"Copy"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const bar = {\n  a: 1,\n  b: 2\n}\n\nconst foo = Object.assign({}, bar)\n")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const bar = {\n  a: 1,\n  b: 2\n}\n\nconst foo = {...bar}\n")),Object(r.b)("h2",{id:"freeze"},"Freeze"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"Object.freeze(object)"),". This is not a deep freeze. Only the top level object is frozen."),Object(r.b)("h2",{id:"weakmap"},"WeakMap"),Object(r.b)("p",null,"Allows objects as keys."),Object(r.b)("h2",{id:"this"},"this"),Object(r.b)("p",null,"In most cases, the value of ",Object(r.b)("strong",{parentName:"p"},"this")," is determined by how a function is called (runtime binding)."),Object(r.b)("h3",{id:"example-with-methods"},"Example with methods"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const myObj = {\n  store: 0,\n  increase: function () {\n    this.store = this.store + 1;\n  },\n  decrease: function () {\n    this.store = this.store - 1;\n  }\n};\n\nconsole.log(myObj.store); // 0\nmyObj.increase();\nmyObj.increase();\nmyObj.increase();\nmyObj.increase();\nconsole.log(myObj.store); // 4\nmyObj.decrease();\nmyObj.decrease();\nconsole.log(myObj.store); // 2\n")),Object(r.b)("h3",{id:"trying-to-access-this-before-execution-time"},"Trying to access this before execution time"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},'const thisExample = {\n  firstName: "Pere",\n  lastName: "Pages",\n  completeName: this.firstName + " " + this.lastName, // not going to work. this can\'t resolve yet\n  getCompleteName: function () {\n    return this.firstName + " " + this.lastName; // it\'s going to work, because it will bind at execution time\n  }\n};\n\nconsole.log(thisExample.completeName); // undefined undefined\nconsole.log(thisExample.getCompleteName()); // \'Pere Pages\'\n')),Object(r.b)("h2",{id:"resources"},"Resources"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Javascript The Good Parts (2008) by Douglas Crockford"),Object(r.b)("li",{parentName:"ul"},"How Javascript Works (2018) by Douglas Crockford")))}i.isMDXComponent=!0},229:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return u}));var a=n(0),o=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var b=o.a.createContext({}),i=function(e){var t=o.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=i(e.components);return o.a.createElement(b.Provider,{value:t},e.children)},j={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},m=o.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,b=l(e,["components","mdxType","originalType","parentName"]),p=i(n),m=a,u=p["".concat(c,".").concat(m)]||p[m]||j[m]||r;return n?o.a.createElement(u,s(s({ref:t},b),{},{components:n})):o.a.createElement(u,s({ref:t},b))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,c=new Array(r);c[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,c[1]=s;for(var b=2;b<r;b++)c[b]=n[b];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);